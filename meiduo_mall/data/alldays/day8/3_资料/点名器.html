
<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>随机点名</title>
		<style type="text/css">
			* { margin: 0; padding:0;}
			table { margin: 20px auto;}
			table td { border: 1px solid #ccc; background-color: yellowgreen; border-collapse: collapse;padding: 5px;font-size: 25px;
			margin:10px; width:80px; height: 60px; text-align: center; line-height: 30px;}
			h3 { text-align: center; font-size: 30px; font-weight: normal; height: 60px; line-height: 60px;}
			input { width: 80px; height: 40px; font:18px/40px "微软雅黑"; margin: 0 50px; background-color: #ddd;
			cursor: pointer; outline: none;}
			input:hover { background-color: #eee;}
			.btn {text-align: center;}
		</style>
	</head>
	<body>
		<h3 style="color: red;">python 12期 点名座位表</h3>
		<div id="con"></div>
		<div class="btn">
			<input type="button" id="btn" value="high起来" />
			<input type="button" id="btn2" value="恭喜你" />
		</div>
	</body>
	<script type="text/javascript">
		function $(id){
			return document.getElementById(id);
		}
		var oBtn=$("btn"),oBtn2=$("btn2"),con = $('con');
		var dian=null;//初始化一个变量 等于空
				
		var arr = [
			["杨佰翰", "邱晖敏",	"符德航",	"钟国材" ,"史金玉","何志鹏", "刘远波",	"罗超",	"莫军 "],
			 ["杨宇	", "陈晋豫",	"曾国锋",	"陈炜文" ,	"林海燕","谢俊豪",	"李泽源",	"冯家杰" ,	"苏广源"],
			 ["吴鑫霖", "车孙奉",	"	",	"李文璞" ,	"任翠亮","徐新国", "王韶旋",	"卿催凤",	"孟凯轩"],
			 ["龚凯莉", "应泽远",	"刘启明",	"梁嘉曦" ,"王海斌", "黄柏焜",	"周忠青",	"徐志生" ,	"朱梓帆"],
			 ["戴洁妮", "招汝祺",	"罗宁	",	"廖志伟" ,"刘凯涛","吴威铭", "黄少波",	"余超帆",	"侯志强"],
			 ["曾家龙", "崔定一",	"傅耿耀",	"关杰文" ,"方正威","陶冶","谢肇庆","谭昌雄"]

        ];

        var str = "<table>";
        for(var i = 0; i < arr.length; i++) {
        	str += "<tr>";
        	for(var k = 0; k < arr[i].length; k++) str += "<td>"+arr[i][k]+"</td>";
        	str += "</tr>";
        }
        str +="</table>"
        con.innerHTML = str;
       
        var cell = con.getElementsByTagName('td');
        for(var i = 0; i < cell.length; i++) {
        	if(cell[i].innerHTML=="") cell[i].style.cssText= "background:none;border:none"; 
        }
		var newArr = [];
		for(var i = 0; i < arr.length; i++) newArr = newArr.concat(arr[i]);
		
		//点名函数
		function rand_stu(){
			var Index=Math.floor(Math.random()*newArr.length);//0 1 23 4567
			if(newArr[Index]!="" && newArr[Index]!="讲师" && Index!=96) {
				for(var i = 0; i < cell.length; i++) {
					cell[i].style.backgroundColor = (cell[i].innerHTML=="")?"#fff":"yellowgreen";
					
				}	
				cell[Index].style.backgroundColor = "rgba(255,0,0,0.5)";
				
			}
		}
		//单击开始
		oBtn.onclick=function(){
			if(dian) return;
			dian=setInterval(rand_stu,100);
		}
		//单击停止
		oBtn2.onclick=function(){
			clearInterval(dian);//清除定时器
			dian=null;//变量改回空
		}
		
	</script>
</html>
